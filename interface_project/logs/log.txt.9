2018-01-24 15:13:41,442 testproject.py[line: 36] INFO: 正在执行项目测试计划[project：项目1，testplan：测试计划1]
2018-01-24 15:13:41,445 testplan.py[line: 28] INFO: 正在获取测试计划[project=项目1，name=测试计划1]的测试用例
2018-01-24 15:13:41,483 testplan.py[line: 34] INFO: 成功获取测试计划[project=项目1，name=测试计划1]的测试用例id：dict_keys(['24', '17', '20'])
2018-01-24 15:13:41,512 testplan.py[line: 56] INFO: 记录测试用例到测试用例报表
2018-01-24 15:13:41,512 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124151341', 24, '获取天气服务', '访问WebTours首页接口', '测试计划1', '项目1', 'Block', '')
2018-01-24 15:13:41,603 testplan.py[line: 59] INFO: 开始执行测试用例[id=24，name=获取天气服务]
2018-01-24 15:13:41,603 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 15:13:41,603 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124151341', 24, '获取天气服务', '测试计划1', '项目1', 26, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"WeatherWebService","function":"test_get_support_province","method":"post","url":"/WebServices/WeatherWebService.asmx?","params":"<soapenv|Envelope xmlns|soapenv=(http|//schemas.xmlsoap.org/soap/envelope/) xmlns|web=(http|//WebXml.com.cn/)><soapenv|Header/><soapenv|Body><web|getSupportProvince/></soapenv|Body></soapenv|Envelope>"}', '{"city":"黑龙江"}', 'Block', '', '')
2018-01-24 15:13:41,711 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 15:13:41,711 casestep.py[line: 57] INFO: 调用的方法为：WeatherWebService.test_get_support_province
2018-01-24 15:13:41,712 weatherwebservice.py[line: 25] INFO: 正在发起POST请求...
2018-01-24 15:13:41,712 httpprotocol.py[line: 64] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/WebServices/WeatherWebService.asmx?
2018-01-24 15:13:41,803 httpprotocol.py[line: 72] ERROR: 发送请求失败，原因：HTTP Error 403: Forbidden
2018-01-24 15:13:41,804 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=24, name=获取天气服务]
2018-01-24 15:13:41,805 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-24 15:13:41,805 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\weatherwebservice.py, line 30, in test_get_support_province    response = response.decode(utf-8)AttributeError: NoneType object has no attribute decode", protocol_method="post", runtime="2018-01-24 15:13:41" WHERE executed_history_id = 20180124151341 AND testcase_id = 24 AND step_id = 26 AND project='项目1' AND testplan='测试计划1'
2018-01-24 15:13:41,871 testplan.py[line: 63] INFO: 正在更新用例执行结果
2018-01-24 15:13:41,871 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 15:13:41" WHERE executed_history_id = 20180124151341 AND testcase_id = 24 AND project='项目1' AND testplan='测试计划1'
2018-01-24 15:13:41,945 testplan.py[line: 74] INFO: 正在更新testlink上测试计划[testplan_id=2, bulid_version=版本2],对应用例[testcase_id=24]的执行结果
2018-01-24 15:14:06,788 globalpy.py[line: 13] INFO: init db
2018-01-24 15:14:06,953 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 15:14:07,016 main.py[line: 60] INFO: 正在创建测试用例报告报表
2018-01-24 15:14:07,016 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2018-01-24 15:14:07,105 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2018-01-24 15:14:07,105 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2018-01-24 15:14:07,182 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 15:14:07,184 main.py[line: 145] INFO: 按计划运行测试
2018-01-24 15:14:07,184 main.py[line: 149] INFO: 已获取配置的项目名称[name：项目1]及对应的测试计划名称列表[list=['测试计划1']]
2018-01-24 15:14:07,198 main.py[line: 165] INFO: 正在读取测试计划[project：项目1，testplan：测试计划1]的协议，host，端口配置...
2018-01-24 15:14:07,198 main.py[line: 167] INFO: 成功读取配置信息：
2018-01-24 15:14:07,198 main.py[line: 169] ERROR: 测试计划[project：项目1，testplan：测试计划1]未配置协议，host，端口信息，暂时无法执行
2018-01-24 15:14:07,198 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 15:14:07,199 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 15:14:07,199 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124151406',)
2018-01-24 15:14:07,245 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 15:14:07,246 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124151406')
2018-01-24 15:14:07,292 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 15:14:07,292 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124151406')
2018-01-24 15:14:07,335 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 15:14:07,335 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124151406')
2018-01-24 15:14:07,423 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 15:14:07,424 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124151406')
2018-01-24 15:14:07,533 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 15:14:07,533 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124151406',)
2018-01-24 15:14:07,616 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 15:14:07,616 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124151406',)
2018-01-24 15:14:07,748 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 15:14:07,748 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124151406.html
2018-01-24 15:14:07,748 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 15:14:07,749 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 15:14:16,161 main.py[line: 258] INFO: D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124151406.html
2018-01-24 15:14:16,161 main.py[line: 261] INFO: 正在发送测试报告邮件...
2018-01-24 15:14:16,563 main.py[line: 265] INFO: 发送邮件成功
2018-01-24 15:23:19,409 globalpy.py[line: 13] INFO: init db
2018-01-24 15:23:19,548 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 15:23:19,635 main.py[line: 60] INFO: 正在创建测试用例报告报表
2018-01-24 15:23:19,635 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2018-01-24 15:23:19,706 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2018-01-24 15:23:19,706 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2018-01-24 15:23:19,781 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 15:23:19,782 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 15:23:19,783 main.py[line: 189] INFO: 已获取配置的套件id列表：[16]
2018-01-24 15:23:19,813 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 15:23:19,814 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 15:23:19,814 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 15:23:19,863 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 15:23:19,863 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124152319', '17', '获取用户经纬度', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 15:23:20,077 testsuite.py[line: 61] INFO: 开始执行测试用例[id=17，name=获取用户经纬度]
2018-01-24 15:23:20,077 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 15:23:20,077 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124152319', '17', '获取用户经纬度', '无计划', '项目1', 19, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"Pt",&ldquo;function":"test_get_lng_and_lat","method":"get","url":"/service/pl/pl.json?","params":[{"rand":"635840524184357321"}]}', '{"code":"1"}', 'Block', '', '')
2018-01-24 15:23:20,179 testcase.py[line: 56] ERROR: 步骤[1]信息填写错误: Expecting property name enclosed in double quotes: line 1 column 15 (char 14),停止执行用例[id=17, name=获取用户经纬度]
2018-01-24 15:23:20,179 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 15:23:20,179 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 15:23:20" WHERE executed_history_id = 20180124152319 and testcase_id = 17 AND project='项目1' AND testplan='无计划'
2018-01-24 15:23:20,264 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 15:23:20,264 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124152319', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 15:23:20,343 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 15:23:20,344 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 15:23:20,344 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124152319', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '["city_name":"深圳市"]', 'Block', '', '')
2018-01-24 15:23:20,441 testcase.py[line: 56] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 13 (char 12),停止执行用例[id=20, name=获取ip信息接口]
2018-01-24 15:23:20,442 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 15:23:20,442 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 15:23:20" WHERE executed_history_id = 20180124152319 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 15:23:20,519 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 15:23:20,519 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124152319', '24', '获取天气服务', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 15:23:20,630 testsuite.py[line: 61] INFO: 开始执行测试用例[id=24，name=获取天气服务]
2018-01-24 15:23:20,631 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 15:23:20,631 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124152319', '24', '获取天气服务', '无计划', '项目1', 26, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"WeatherWebService","function":"test_get_support_province","method":"post","url":"/WebServices/WeatherWebService.asmx?","params":"<soapenv|Envelope xmlns|soapenv=(http|//schemas.xmlsoap.org/soap/envelope/) xmlns|web=(http|//WebXml.com.cn/)><soapenv|Header/><soapenv|Body><web|getSupportProvince/></soapenv|Body></soapenv|Envelope>"}', '{"city":"黑龙江"}', 'Block', '', '')
2018-01-24 15:23:20,725 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 15:23:20,725 casestep.py[line: 57] INFO: 调用的方法为：WeatherWebService.test_get_support_province
2018-01-24 15:23:20,725 weatherwebservice.py[line: 25] INFO: 正在发起POST请求...
2018-01-24 15:23:20,725 httpprotocol.py[line: 64] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/WebServices/WeatherWebService.asmx?
2018-01-24 15:23:20,836 httpprotocol.py[line: 72] ERROR: 发送请求失败，原因：HTTP Error 403: Forbidden
2018-01-24 15:23:20,837 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=24, name=获取天气服务]
2018-01-24 15:23:20,837 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-24 15:23:20,837 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\weatherwebservice.py, line 30, in test_get_support_province    response = response.decode(utf-8)AttributeError: NoneType object has no attribute decode", protocol_method="post", runtime="2018-01-24 15:23:20" WHERE executed_history_id = 20180124152319 AND testcase_id = 24 AND step_id = 26 AND project='项目1' AND testplan='无计划'
2018-01-24 15:23:20,912 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 15:23:20,912 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 15:23:20" WHERE executed_history_id = 20180124152319 and testcase_id = 24 AND project='项目1' AND testplan='无计划'
2018-01-24 15:23:21,001 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 15:23:21,002 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 15:23:21,003 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 15:23:21,003 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124152319',)
2018-01-24 15:23:21,045 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 15:23:21,045 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124152319')
2018-01-24 15:23:21,094 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 15:23:21,095 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124152319')
2018-01-24 15:23:21,166 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 15:23:21,166 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124152319')
2018-01-24 15:23:21,232 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 15:23:21,232 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124152319')
2018-01-24 15:23:21,271 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 15:23:21,272 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124152319',)
2018-01-24 15:23:21,348 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 15:23:21,349 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124152319')
2018-01-24 15:23:21,391 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 15:23:21,391 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 15:23:21,391 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124152319',)
2018-01-24 15:23:21,452 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 15:23:21,452 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124152319')
2018-01-24 15:23:21,507 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=17]步骤运行结果
2018-01-24 15:23:21,507 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 17, '20180124152319')
2018-01-24 15:23:21,562 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 15:23:21,562 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124152319')
2018-01-24 15:23:21,653 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=24]步骤运行结果
2018-01-24 15:23:21,653 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 24, '20180124152319')
2018-01-24 15:23:21,694 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 15:23:21,694 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124152319.html
2018-01-24 15:23:21,695 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 15:23:21,696 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 15:23:22,244 main.py[line: 258] INFO: D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124152319.html
2018-01-24 15:23:22,244 main.py[line: 261] INFO: 正在发送测试报告邮件...
2018-01-24 15:23:23,365 main.py[line: 265] INFO: 发送邮件成功
2018-01-24 15:31:54,072 globalpy.py[line: 13] INFO: init db
2018-01-24 15:31:54,352 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 15:31:54,419 main.py[line: 60] INFO: 正在创建测试用例报告报表
2018-01-24 15:31:54,419 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2018-01-24 15:31:54,635 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2018-01-24 15:31:54,636 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2018-01-24 15:31:54,830 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 15:31:54,832 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 15:31:54,832 main.py[line: 189] INFO: 已获取配置的套件id列表：[16]
2018-01-24 15:31:54,865 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 15:31:54,865 main.py[line: 208] ERROR: 测试套件[id=16 ,name=访问WebTours首页接口]未配置协议，host，端口信息，暂时无法执行
2018-01-24 15:31:54,866 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 15:31:54,867 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 15:31:54,867 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124153154',)
2018-01-24 15:31:54,902 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 15:31:54,902 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124153154')
2018-01-24 15:31:54,953 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 15:31:54,953 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124153154')
2018-01-24 15:31:55,033 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 15:31:55,033 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124153154')
2018-01-24 15:31:55,133 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 15:31:55,133 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124153154')
2018-01-24 15:31:55,184 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 15:31:55,185 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124153154',)
2018-01-24 15:31:55,245 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 15:31:55,245 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124153154',)
2018-01-24 15:31:55,311 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 15:31:55,312 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124153154.html
2018-01-24 15:31:55,312 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 15:31:55,313 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 15:31:55,994 main.py[line: 258] INFO: D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124153154.html
2018-01-24 15:31:55,994 main.py[line: 261] INFO: 正在发送测试报告邮件...
2018-01-24 15:31:56,421 main.py[line: 265] INFO: 发送邮件成功
2018-01-24 15:35:41,911 globalpy.py[line: 13] INFO: init db
2018-01-24 15:35:41,973 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 15:35:42,040 main.py[line: 60] INFO: 正在创建测试用例报告报表
2018-01-24 15:35:42,040 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2018-01-24 15:35:42,089 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2018-01-24 15:35:42,089 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2018-01-24 15:35:42,154 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 15:35:42,156 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 15:35:42,156 main.py[line: 189] INFO: 已获取配置的套件id列表：[16]
2018-01-24 15:35:42,181 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 15:35:42,183 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 15:35:42,183 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 15:35:42,215 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 15:35:42,215 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124153541', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 15:35:42,325 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 15:35:42,325 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 15:35:42,326 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124153541', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '["city_name":"深圳市"]', 'Block', '', '')
2018-01-24 15:35:42,401 testcase.py[line: 56] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 13 (char 12),停止执行用例[id=20, name=获取ip信息接口]
2018-01-24 15:35:42,401 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 15:35:42,402 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 15:35:42" WHERE executed_history_id = 20180124153541 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 15:35:42,469 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 15:35:42,469 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 15:35:42,470 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 15:35:42,470 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124153541',)
2018-01-24 15:35:42,503 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 15:35:42,503 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124153541')
2018-01-24 15:35:42,531 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 15:35:42,531 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124153541')
2018-01-24 15:35:42,569 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 15:35:42,569 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124153541')
2018-01-24 15:35:42,612 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 15:35:42,612 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124153541')
2018-01-24 15:35:42,649 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 15:35:42,649 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124153541',)
2018-01-24 15:35:42,684 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 15:35:42,684 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124153541')
2018-01-24 15:35:42,724 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 15:35:42,725 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 15:35:42,725 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124153541',)
2018-01-24 15:35:42,759 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 15:35:42,759 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124153541')
2018-01-24 15:35:42,795 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 15:35:42,796 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124153541')
2018-01-24 15:35:42,832 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 15:35:42,833 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124153541.html
2018-01-24 15:35:42,833 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 15:35:42,834 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 15:35:42,973 main.py[line: 258] INFO: D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124153541.html
2018-01-24 15:35:42,973 main.py[line: 261] INFO: 正在发送测试报告邮件...
2018-01-24 15:35:43,336 main.py[line: 265] INFO: 发送邮件成功
2018-01-24 15:36:54,158 globalpy.py[line: 13] INFO: init db
2018-01-24 15:36:54,229 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 15:36:54,290 main.py[line: 60] INFO: 正在创建测试用例报告报表
2018-01-24 15:36:54,290 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2018-01-24 15:36:54,359 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2018-01-24 15:36:54,359 mydb.py[line: 36] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2018-01-24 15:36:54,439 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 15:36:54,440 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 15:36:54,441 main.py[line: 189] INFO: 已获取配置的套件id列表：[16]
2018-01-24 15:36:54,469 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 15:36:54,470 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 15:36:54,471 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 15:36:54,503 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 15:36:54,503 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124153654', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 15:36:54,595 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 15:36:54,595 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 15:36:54,595 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124153654', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '["city_name":"深圳市"]', 'Block', '', '')
2018-01-24 15:36:54,681 testcase.py[line: 56] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 13 (char 12),停止执行用例[id=20, name=获取ip信息接口]
2018-01-24 15:36:54,682 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 15:36:54,682 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 15:36:54" WHERE executed_history_id = 20180124153654 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 15:36:54,775 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 15:36:54,775 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 15:36:54,776 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 15:36:54,776 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124153654',)
2018-01-24 15:36:54,833 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 15:36:54,834 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124153654')
2018-01-24 15:36:54,867 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 15:36:54,868 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124153654')
2018-01-24 15:36:54,918 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 15:36:54,918 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124153654')
2018-01-24 15:36:54,953 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 15:36:54,953 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124153654')
2018-01-24 15:36:54,998 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 15:36:54,998 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124153654',)
2018-01-24 15:36:55,044 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 15:36:55,044 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124153654')
2018-01-24 15:36:55,113 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 15:36:55,113 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 15:36:55,113 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124153654',)
2018-01-24 15:36:55,147 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 15:36:55,148 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124153654')
2018-01-24 15:36:55,184 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 15:36:55,185 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124153654')
2018-01-24 15:36:55,269 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 15:36:55,269 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124153654.html
2018-01-24 15:36:55,269 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 15:36:55,270 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 15:46:59,830 globalpy.py[line: 13] INFO: init db
2018-01-24 15:47:00,113 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 15:47:00,181 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 15:47:00,182 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 15:47:00,183 main.py[line: 189] INFO: 已获取配置的套件id列表：[16]
2018-01-24 15:47:00,206 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 15:47:00,207 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 15:47:00,208 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 15:47:00,237 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 15:47:00,237 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124154700', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 15:47:00,341 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 15:47:00,341 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 15:47:00,341 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124154700', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '["city_name":"深圳市"]', 'Block', '', '')
2018-01-24 15:47:00,437 testcase.py[line: 56] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 13 (char 12),停止执行用例[id=20, name=获取ip信息接口]
2018-01-24 15:47:00,437 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 15:47:00,437 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 15:47:00" WHERE executed_history_id = 20180124154700 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 15:47:00,493 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 15:47:00,493 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 15:47:00,494 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 15:47:00,494 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124154700',)
2018-01-24 15:47:00,515 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 15:47:00,515 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124154700')
2018-01-24 15:47:00,551 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 15:47:00,552 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124154700')
2018-01-24 15:47:00,590 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 15:47:00,591 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124154700')
2018-01-24 15:47:00,654 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 15:47:00,654 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124154700')
2018-01-24 15:47:00,701 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
