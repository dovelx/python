2018-01-25 09:10:58,567 globalpy.py[line: 16] INFO: now get testlink
2018-01-25 09:10:58,636 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-25 09:10:58,639 main.py[line: 187] INFO: 按套件运行测试
2018-01-25 09:10:58,639 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,27,31]
2018-01-25 09:10:58,713 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-25 09:10:58,714 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-25 09:10:58,714 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-25 09:10:58,765 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:10:58,766 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091058', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-25 09:10:58,892 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-25 09:10:58,893 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:10:58,893 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091058', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:10:58,928 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:10:58,928 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-25 09:10:58,929 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-25 09:10:58,930 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-25 09:10:59,058 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125091058 and testcase_id = 20 and step_id = 22
2018-01-25 09:10:59,058 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125091058 and testcase_id = 20 and step_id = 22
2018-01-25 09:10:59,109 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-25 09:10:59,109 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:10:59,109 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:10:58" WHERE executed_history_id = 20180125091058 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-25 09:10:59,166 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-25 09:10:59,167 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:10:59,167 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:10:58" WHERE executed_history_id = 20180125091058 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-25 09:10:59,178 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-25 09:10:59,254 main.py[line: 205] INFO: 正在读取套件[id=27，name=taobaoapi]的协议，host，端口配置...
2018-01-25 09:10:59,255 main.py[line: 223] INFO: 正在执行测试套件[id=27 ,name=taobaoapi]
2018-01-25 09:10:59,255 testsuite.py[line: 41] INFO: 正在获取套件[id=27，name=taobaoapi]的测试用例...
2018-01-25 09:10:59,342 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:10:59,342 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091058', '28', '淘宝建议', 'taobaoapi', '无计划', '项目1', 'Block', '')
2018-01-25 09:10:59,355 testsuite.py[line: 61] INFO: 开始执行测试用例[id=28，name=淘宝建议]
2018-01-25 09:10:59,355 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:10:59,356 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091058', '28', '淘宝建议', '无计划', '项目1', 30, 1, '', 'http', 'suggest.taobao.com', '80', '{"class":"Sug","function":"test_taobao_sug","method":"get","url":"/sug?code=utf-8&amp;q=iphone&amp;callback=cb","params":""}', '{"result":[["iphonex手机壳","1794403"],["iphone7plus手机壳","3768908"],["iphone7手机壳","3952600"],["iphone8plus手机壳","2262648"],["iphone x","1733165"],["iphone6手机壳","2219960"],["iphone8","1757315"],["iphone7","3721542"],["iphone8手机壳","2423543"],["iphone6splus手机壳","3260072"]],"tmall":"iphone"}', 'Block', '', '')
2018-01-25 09:10:59,412 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:10:59,412 casestep.py[line: 59] INFO: 调用的方法为：Sug.test_taobao_sug
2018-01-25 09:10:59,430 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=28, name=淘宝建议]
2018-01-25 09:10:59,430 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-25 09:10:59,430 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\sug.py, line 19, in test_taobao_sug    self.params = (self.params)[0]IndexError: string index out of range", protocol_method="get", runtime="2018-01-25 09:10:59" WHERE executed_history_id = 20180125091058 AND testcase_id = 28 AND step_id = 30 AND project='项目1' AND testplan='无计划'
2018-01-25 09:10:59,452 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:10:59,453 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-25 09:10:59" WHERE executed_history_id = 20180125091058 and testcase_id = 28 AND project='项目1' AND testplan='无计划'
2018-01-25 09:10:59,461 testsuite.py[line: 72] INFO: 测试套件[id=27 ,name=taobaoapi]已执行完
2018-01-25 09:10:59,519 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-25 09:10:59,520 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-25 09:10:59,520 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-25 09:10:59,550 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:10:59,550 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091058', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-25 09:10:59,570 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-25 09:10:59,570 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:10:59,571 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091058', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:10:59,594 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:10:59,594 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-25 09:10:59,595 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-25 09:10:59,600 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-25 09:10:59,600 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:10:59,601 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:10:59" WHERE executed_history_id = 20180125091058 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-25 09:10:59,639 testcase.py[line: 100] INFO: 测试用例[id=32, name=rev]执行成功
2018-01-25 09:10:59,639 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:10:59,639 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:10:59" WHERE executed_history_id = 20180125091058 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-25 09:10:59,673 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-25 09:10:59,673 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-25 09:10:59,674 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-25 09:10:59,674 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180125091058',)
2018-01-25 09:10:59,737 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-25 09:10:59,737 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180125091058')
2018-01-25 09:10:59,747 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-25 09:10:59,747 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180125091058')
2018-01-25 09:10:59,768 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-25 09:10:59,768 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180125091058')
2018-01-25 09:10:59,791 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-25 09:10:59,791 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180125091058')
2018-01-25 09:10:59,817 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-25 09:10:59,817 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180125091058',)
2018-01-25 09:10:59,823 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-25 09:10:59,823 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180125091058')
2018-01-25 09:10:59,831 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-25 09:10:59,832 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-25 09:10:59,832 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180125091058',)
2018-01-25 09:10:59,839 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-25 09:10:59,839 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180125091058')
2018-01-25 09:10:59,855 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-25 09:10:59,856 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180125091058')
2018-01-25 09:10:59,873 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=28]步骤运行结果
2018-01-25 09:10:59,873 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 28, '20180125091058')
2018-01-25 09:10:59,892 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-25 09:10:59,892 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180125091058')
2018-01-25 09:10:59,914 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-25 09:10:59,914 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180125091058.html
2018-01-25 09:10:59,914 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-25 09:10:59,915 main.py[line: 251] INFO: 生成测试报告成功
2018-01-25 09:14:37,621 globalpy.py[line: 13] INFO: init db
2018-01-25 09:14:37,676 globalpy.py[line: 16] INFO: now get testlink
2018-01-25 09:14:37,742 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-25 09:14:37,743 main.py[line: 187] INFO: 按套件运行测试
2018-01-25 09:14:37,744 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,27,31]
2018-01-25 09:14:37,808 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-25 09:14:37,809 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-25 09:14:37,809 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-25 09:14:37,877 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:14:37,878 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091437', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-25 09:14:37,954 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-25 09:14:37,955 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:14:37,955 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091437', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:14:37,985 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:14:37,985 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-25 09:14:37,986 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-25 09:14:37,986 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-25 09:14:38,278 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125091437 and testcase_id = 20 and step_id = 22
2018-01-25 09:14:38,279 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125091437 and testcase_id = 20 and step_id = 22
2018-01-25 09:14:38,397 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-25 09:14:38,398 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:14:38,398 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:14:37" WHERE executed_history_id = 20180125091437 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-25 09:14:38,425 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-25 09:14:38,425 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:14:38,425 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:14:37" WHERE executed_history_id = 20180125091437 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-25 09:14:38,473 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-25 09:14:38,513 main.py[line: 205] INFO: 正在读取套件[id=27，name=taobaoapi]的协议，host，端口配置...
2018-01-25 09:14:38,515 main.py[line: 223] INFO: 正在执行测试套件[id=27 ,name=taobaoapi]
2018-01-25 09:14:38,515 testsuite.py[line: 41] INFO: 正在获取套件[id=27，name=taobaoapi]的测试用例...
2018-01-25 09:14:38,569 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:14:38,570 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091437', '28', '淘宝建议', 'taobaoapi', '无计划', '项目1', 'Block', '')
2018-01-25 09:14:38,603 testsuite.py[line: 61] INFO: 开始执行测试用例[id=28，name=淘宝建议]
2018-01-25 09:14:38,603 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:14:38,604 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091437', '28', '淘宝建议', '无计划', '项目1', 30, 1, '', 'http', 'suggest.taobao.com', '80', '{"class":"Sug","function":"test_taobao_sug","method":"get","url":"/sug","params":"?code=utf-8&amp;q=iphone&amp;callback=cb"}', '{"result":[["iphonex手机壳","1794403"],["iphone7plus手机壳","3768908"],["iphone7手机壳","3952600"],["iphone8plus手机壳","2262648"],["iphone x","1733165"],["iphone6手机壳","2219960"],["iphone8","1757315"],["iphone7","3721542"],["iphone8手机壳","2423543"],["iphone6splus手机壳","3260072"]],"tmall":"iphone"}', 'Block', '', '')
2018-01-25 09:14:38,626 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:14:38,626 casestep.py[line: 59] INFO: 调用的方法为：Sug.test_taobao_sug
2018-01-25 09:14:38,654 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=28, name=淘宝建议]
2018-01-25 09:14:38,654 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-25 09:14:38,654 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File C:\Python34\lib\urllib\parse.py, line 760, in urlencode    raise TypeErrorTypeErrorDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\sug.py, line 20, in test_taobao_sug    self.params = urllib.parse.urlencode(self.params)  File C:\Python34\lib\urllib\parse.py, line 768, in urlencode    or mapping object).with_traceback(tb)  File C:\Python34\lib\urllib\parse.py, line 760, in urlencode    raise TypeErrorTypeError: not a valid non-string sequence or mapping object", protocol_method="get", runtime="2018-01-25 09:14:38" WHERE executed_history_id = 20180125091437 AND testcase_id = 28 AND step_id = 30 AND project='项目1' AND testplan='无计划'
2018-01-25 09:14:38,798 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:14:38,798 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-25 09:14:38" WHERE executed_history_id = 20180125091437 and testcase_id = 28 AND project='项目1' AND testplan='无计划'
2018-01-25 09:14:38,840 testsuite.py[line: 72] INFO: 测试套件[id=27 ,name=taobaoapi]已执行完
2018-01-25 09:14:38,948 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-25 09:14:38,949 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-25 09:14:38,949 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-25 09:14:38,989 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:14:38,989 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091437', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-25 09:14:39,028 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-25 09:14:39,028 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:14:39,028 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091437', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:14:39,140 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:14:39,140 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-25 09:14:39,140 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-25 09:14:39,146 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-25 09:14:39,146 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:14:39,147 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:14:39" WHERE executed_history_id = 20180125091437 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-25 09:14:39,190 testcase.py[line: 100] INFO: 测试用例[id=32, name=rev]执行成功
2018-01-25 09:14:39,190 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:14:39,191 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:14:39" WHERE executed_history_id = 20180125091437 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-25 09:14:39,283 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-25 09:14:39,283 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-25 09:14:39,284 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-25 09:14:39,284 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180125091437',)
2018-01-25 09:14:39,291 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-25 09:14:39,291 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180125091437')
2018-01-25 09:14:39,296 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-25 09:14:39,296 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180125091437')
2018-01-25 09:14:39,359 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-25 09:14:39,360 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180125091437')
2018-01-25 09:14:39,386 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-25 09:14:39,386 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180125091437')
2018-01-25 09:14:39,404 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-25 09:14:39,404 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180125091437',)
2018-01-25 09:14:39,417 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-25 09:14:39,417 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180125091437')
2018-01-25 09:14:39,427 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-25 09:14:39,428 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-25 09:14:39,428 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180125091437',)
2018-01-25 09:14:39,455 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-25 09:14:39,455 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180125091437')
2018-01-25 09:14:39,475 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-25 09:14:39,475 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180125091437')
2018-01-25 09:14:39,521 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=28]步骤运行结果
2018-01-25 09:14:39,522 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 28, '20180125091437')
2018-01-25 09:14:39,545 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-25 09:14:39,546 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180125091437')
2018-01-25 09:14:39,609 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-25 09:14:39,610 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180125091437.html
2018-01-25 09:14:39,610 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-25 09:14:39,611 main.py[line: 251] INFO: 生成测试报告成功
2018-01-25 09:18:55,839 globalpy.py[line: 13] INFO: init db
2018-01-25 09:18:55,908 globalpy.py[line: 16] INFO: now get testlink
2018-01-25 09:18:55,980 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-25 09:18:55,981 main.py[line: 187] INFO: 按套件运行测试
2018-01-25 09:18:55,981 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,27,31]
2018-01-25 09:18:56,029 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-25 09:18:56,030 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-25 09:18:56,031 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-25 09:18:56,097 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:18:56,097 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091855', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-25 09:18:56,173 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-25 09:18:56,173 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:18:56,173 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091855', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:18:56,256 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:18:56,257 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-25 09:18:56,258 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-25 09:18:56,258 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-25 09:18:56,419 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125091855 and testcase_id = 20 and step_id = 22
2018-01-25 09:18:56,420 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125091855 and testcase_id = 20 and step_id = 22
2018-01-25 09:18:56,482 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-25 09:18:56,483 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:18:56,483 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:18:56" WHERE executed_history_id = 20180125091855 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-25 09:18:56,572 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-25 09:18:56,572 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:18:56,572 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:18:56" WHERE executed_history_id = 20180125091855 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-25 09:18:56,643 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-25 09:18:56,710 main.py[line: 205] INFO: 正在读取套件[id=27，name=taobaoapi]的协议，host，端口配置...
2018-01-25 09:18:56,712 main.py[line: 223] INFO: 正在执行测试套件[id=27 ,name=taobaoapi]
2018-01-25 09:18:56,712 testsuite.py[line: 41] INFO: 正在获取套件[id=27，name=taobaoapi]的测试用例...
2018-01-25 09:18:56,747 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:18:56,748 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091855', '28', '淘宝建议', 'taobaoapi', '无计划', '项目1', 'Block', '')
2018-01-25 09:18:56,830 testsuite.py[line: 61] INFO: 开始执行测试用例[id=28，name=淘宝建议]
2018-01-25 09:18:56,830 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:18:56,830 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091855', '28', '淘宝建议', '无计划', '项目1', 30, 1, '', 'http', 'suggest.taobao.com', '80', '{"class":"Sug","function":"test_taobao_sug","method":"get","url":"/sug","params":"?code=utf-8&amp;q=iphone&amp;callback=cb"}', '{"result":[["iphonex手机壳","1794403"],["iphone7plus手机壳","3768908"],["iphone7手机壳","3952600"],["iphone8plus手机壳","2262648"],["iphone x","1733165"],["iphone6手机壳","2219960"],["iphone8","1757315"],["iphone7","3721542"],["iphone8手机壳","2423543"],["iphone6splus手机壳","3260072"]],"tmall":"iphone"}', 'Block', '', '')
2018-01-25 09:18:56,983 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:18:56,983 casestep.py[line: 59] INFO: 调用的方法为：Sug.test_taobao_sug
2018-01-25 09:18:56,984 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=28, name=淘宝建议]
2018-01-25 09:18:56,984 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-25 09:18:56,984 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File C:\Python34\lib\urllib\parse.py, line 760, in urlencode    raise TypeErrorTypeErrorDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\sug.py, line 20, in test_taobao_sug    self.params = urllib.parse.urlencode(self.params)  File C:\Python34\lib\urllib\parse.py, line 768, in urlencode    or mapping object).with_traceback(tb)  File C:\Python34\lib\urllib\parse.py, line 760, in urlencode    raise TypeErrorTypeError: not a valid non-string sequence or mapping object", protocol_method="get", runtime="2018-01-25 09:18:56" WHERE executed_history_id = 20180125091855 AND testcase_id = 28 AND step_id = 30 AND project='项目1' AND testplan='无计划'
2018-01-25 09:18:57,261 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:18:57,262 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-25 09:18:56" WHERE executed_history_id = 20180125091855 and testcase_id = 28 AND project='项目1' AND testplan='无计划'
2018-01-25 09:18:57,786 testsuite.py[line: 72] INFO: 测试套件[id=27 ,name=taobaoapi]已执行完
2018-01-25 09:18:57,814 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-25 09:18:57,815 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-25 09:18:57,815 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-25 09:18:57,861 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:18:57,861 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091855', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-25 09:18:58,034 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-25 09:18:58,034 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:18:58,034 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125091855', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:18:58,183 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:18:58,183 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-25 09:18:58,183 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-25 09:18:58,191 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-25 09:18:58,191 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:18:58,191 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:18:58" WHERE executed_history_id = 20180125091855 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-25 09:18:58,375 testcase.py[line: 100] INFO: 测试用例[id=32, name=rev]执行成功
2018-01-25 09:18:58,375 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:18:58,375 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:18:58" WHERE executed_history_id = 20180125091855 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-25 09:18:58,655 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-25 09:18:58,655 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-25 09:18:58,656 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-25 09:18:58,656 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180125091855',)
2018-01-25 09:18:58,699 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-25 09:18:58,699 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180125091855')
2018-01-25 09:18:58,760 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-25 09:18:58,761 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180125091855')
2018-01-25 09:18:58,817 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-25 09:18:58,817 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180125091855')
2018-01-25 09:18:58,878 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-25 09:18:58,878 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180125091855')
2018-01-25 09:18:58,914 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-25 09:18:58,914 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180125091855',)
2018-01-25 09:18:58,962 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-25 09:18:58,962 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180125091855')
2018-01-25 09:18:59,016 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-25 09:18:59,017 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-25 09:18:59,017 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180125091855',)
2018-01-25 09:18:59,064 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-25 09:18:59,065 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180125091855')
2018-01-25 09:18:59,144 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-25 09:18:59,144 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180125091855')
2018-01-25 09:18:59,186 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=28]步骤运行结果
2018-01-25 09:18:59,187 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 28, '20180125091855')
2018-01-25 09:18:59,223 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-25 09:18:59,223 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180125091855')
2018-01-25 09:18:59,257 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-25 09:18:59,257 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180125091855.html
2018-01-25 09:18:59,257 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-25 09:18:59,258 main.py[line: 251] INFO: 生成测试报告成功
2018-01-25 09:20:36,419 globalpy.py[line: 13] INFO: init db
2018-01-25 09:20:36,594 globalpy.py[line: 16] INFO: now get testlink
2018-01-25 09:20:36,653 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-25 09:20:36,655 main.py[line: 187] INFO: 按套件运行测试
2018-01-25 09:20:36,656 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,27,31]
2018-01-25 09:20:36,728 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-25 09:20:36,729 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-25 09:20:36,729 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-25 09:20:36,842 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:20:36,842 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125092036', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-25 09:20:37,018 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-25 09:20:37,019 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:20:37,019 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125092036', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:20:37,261 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:20:37,262 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-25 09:20:37,263 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-25 09:20:37,263 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-25 09:20:37,355 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125092036 and testcase_id = 20 and step_id = 22
2018-01-25 09:20:37,356 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125092036 and testcase_id = 20 and step_id = 22
2018-01-25 09:20:37,424 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-25 09:20:37,425 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:20:37,425 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:20:37" WHERE executed_history_id = 20180125092036 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-25 09:20:37,499 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-25 09:20:37,499 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:20:37,499 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:20:37" WHERE executed_history_id = 20180125092036 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-25 09:20:37,569 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-25 09:20:37,638 main.py[line: 205] INFO: 正在读取套件[id=27，name=taobaoapi]的协议，host，端口配置...
2018-01-25 09:20:37,639 main.py[line: 223] INFO: 正在执行测试套件[id=27 ,name=taobaoapi]
2018-01-25 09:20:37,639 testsuite.py[line: 41] INFO: 正在获取套件[id=27，name=taobaoapi]的测试用例...
2018-01-25 09:20:37,715 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:20:37,715 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125092036', '28', '淘宝建议', 'taobaoapi', '无计划', '项目1', 'Block', '')
2018-01-25 09:20:37,837 testsuite.py[line: 61] INFO: 开始执行测试用例[id=28，name=淘宝建议]
2018-01-25 09:20:37,838 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:20:37,838 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125092036', '28', '淘宝建议', '无计划', '项目1', 30, 1, '', 'http', 'suggest.taobao.com', '80', '{"class":"Sug","function":"test_taobao_sug","method":"get","url":"/sug","params":"code=utf-8,q=iphone,callback=cb"}', '{"result":[["iphonex手机壳","1794403"],["iphone7plus手机壳","3768908"],["iphone7手机壳","3952600"],["iphone8plus手机壳","2262648"],["iphone x","1733165"],["iphone6手机壳","2219960"],["iphone8","1757315"],["iphone7","3721542"],["iphone8手机壳","2423543"],["iphone6splus手机壳","3260072"]],"tmall":"iphone"}', 'Block', '', '')
2018-01-25 09:20:37,905 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:20:37,905 casestep.py[line: 59] INFO: 调用的方法为：Sug.test_taobao_sug
2018-01-25 09:20:37,907 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=28, name=淘宝建议]
2018-01-25 09:20:37,907 testcase.py[line: 74] INFO: 正在更新步骤执行结果
