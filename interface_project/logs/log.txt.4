2018-01-24 17:42:50,226 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-24 17:42:50,230 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-24 17:42:50,290 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-24 17:42:50,323 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=32, name=rev]
2018-01-24 17:42:50,323 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-24 17:42:50,323 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\tang.py, line 35, in test_rev    dict1 = json.loads(response)  File C:\Python34\lib\json\__init__.py, line 312, in loads    s.__class__.__name__))TypeError: the JSON object must be str, not bytes", protocol_method="get", runtime="2018-01-24 17:42:50" WHERE executed_history_id = 20180124174249 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 17:42:50,385 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:42:50,386 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 17:42:50" WHERE executed_history_id = 20180124174249 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 17:42:50,478 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 17:42:50,479 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 17:42:50,480 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 17:42:50,480 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124174249',)
2018-01-24 17:42:50,515 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 17:42:50,516 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124174249')
2018-01-24 17:42:50,551 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 17:42:50,551 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124174249')
2018-01-24 17:42:50,596 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 17:42:50,597 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124174249')
2018-01-24 17:42:50,636 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 17:42:50,636 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124174249')
2018-01-24 17:42:50,691 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 17:42:50,691 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124174249',)
2018-01-24 17:42:50,737 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 17:42:50,737 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124174249')
2018-01-24 17:42:50,794 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 17:42:50,795 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 17:42:50,795 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124174249',)
2018-01-24 17:42:50,847 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 17:42:50,847 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124174249')
2018-01-24 17:42:50,899 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 17:42:50,899 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124174249')
2018-01-24 17:42:50,942 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 17:42:50,943 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124174249')
2018-01-24 17:42:50,977 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 17:42:50,978 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124174249.html
2018-01-24 17:42:50,978 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 17:42:50,979 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 17:48:25,208 globalpy.py[line: 13] INFO: init db
2018-01-24 17:48:25,297 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 17:48:25,368 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 17:48:25,370 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 17:48:25,370 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,31]
2018-01-24 17:48:25,414 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 17:48:25,415 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 17:48:25,416 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 17:48:25,449 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:48:25,449 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174825', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 17:48:25,584 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 17:48:25,584 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:48:25,584 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174825', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:48:25,659 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:48:25,659 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-24 17:48:25,660 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-24 17:48:25,660 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-24 17:48:25,753 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124174825 and testcase_id = 20 and step_id = 22
2018-01-24 17:48:25,753 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124174825 and testcase_id = 20 and step_id = 22
2018-01-24 17:48:25,802 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-24 17:48:25,802 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 17:48:25,802 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 17:48:25" WHERE executed_history_id = 20180124174825 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-24 17:48:25,918 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-24 17:48:25,918 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:48:25,918 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 17:48:25" WHERE executed_history_id = 20180124174825 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 17:48:25,998 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 17:48:26,023 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-24 17:48:26,024 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-24 17:48:26,024 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-24 17:48:26,076 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:48:26,077 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174825', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-24 17:48:26,143 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-24 17:48:26,143 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:48:26,143 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174825', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:48:26,195 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:48:26,196 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-24 17:48:26,196 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-24 17:48:26,332 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-24 17:48:26,332 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=32, name=rev]
2018-01-24 17:48:26,333 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-24 17:48:26,333 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\tang.py, line 38, in test_rev    print (dict1.values())AttributeError: bytes object has no attribute values", protocol_method="get", runtime="2018-01-24 17:48:26" WHERE executed_history_id = 20180124174825 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 17:48:26,396 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:48:26,396 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 17:48:26" WHERE executed_history_id = 20180124174825 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 17:48:26,460 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 17:48:26,460 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 17:48:26,461 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 17:48:26,462 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124174825',)
2018-01-24 17:48:26,498 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 17:48:26,498 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124174825')
2018-01-24 17:48:26,537 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 17:48:26,537 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124174825')
2018-01-24 17:48:26,569 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 17:48:26,570 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124174825')
2018-01-24 17:48:26,605 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 17:48:26,605 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124174825')
2018-01-24 17:48:26,637 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 17:48:26,637 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124174825',)
2018-01-24 17:48:26,677 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 17:48:26,677 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124174825')
2018-01-24 17:48:26,710 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 17:48:26,710 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 17:48:26,710 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124174825',)
2018-01-24 17:48:26,746 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 17:48:26,746 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124174825')
2018-01-24 17:48:26,782 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 17:48:26,782 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124174825')
2018-01-24 17:48:26,818 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 17:48:26,818 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124174825')
2018-01-24 17:48:26,854 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 17:48:26,854 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124174825.html
2018-01-24 17:48:26,855 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 17:48:26,856 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 17:49:58,952 globalpy.py[line: 13] INFO: init db
2018-01-24 17:49:59,033 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 17:49:59,106 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 17:49:59,108 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 17:49:59,108 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,31]
2018-01-24 17:49:59,176 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 17:49:59,177 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 17:49:59,177 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 17:49:59,229 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:49:59,229 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174959', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 17:49:59,427 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 17:49:59,428 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:49:59,428 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174959', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:49:59,554 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:49:59,554 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-24 17:49:59,556 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-24 17:49:59,556 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-24 17:49:59,820 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124174959 and testcase_id = 20 and step_id = 22
2018-01-24 17:49:59,820 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124174959 and testcase_id = 20 and step_id = 22
2018-01-24 17:50:00,155 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-24 17:50:00,155 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 17:50:00,155 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 17:49:59" WHERE executed_history_id = 20180124174959 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-24 17:50:00,347 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-24 17:50:00,347 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:50:00,348 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 17:49:59" WHERE executed_history_id = 20180124174959 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 17:50:00,459 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 17:50:00,490 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-24 17:50:00,491 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-24 17:50:00,492 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-24 17:50:00,532 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:50:00,532 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174959', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-24 17:50:00,616 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-24 17:50:00,616 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:50:00,616 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174959', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:50:00,714 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:50:00,714 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-24 17:50:00,715 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-24 17:50:00,722 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-24 17:50:00,723 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=32, name=rev]
2018-01-24 17:50:00,723 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-24 17:50:00,723 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\tang.py, line 38, in test_rev    list1 = dict1[reserveCodeList]TypeError: byte indices must be integers, not str", protocol_method="get", runtime="2018-01-24 17:50:00" WHERE executed_history_id = 20180124174959 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 17:50:00,816 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:50:00,816 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 17:50:00" WHERE executed_history_id = 20180124174959 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 17:50:00,936 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 17:50:00,936 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 17:50:00,937 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 17:50:00,937 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124174959',)
2018-01-24 17:50:00,986 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 17:50:00,987 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124174959')
2018-01-24 17:50:01,058 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 17:50:01,058 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124174959')
2018-01-24 17:50:01,100 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 17:50:01,100 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124174959')
2018-01-24 17:50:01,150 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 17:50:01,150 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124174959')
2018-01-24 17:50:01,251 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 17:50:01,251 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124174959',)
2018-01-24 17:50:01,295 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 17:50:01,296 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124174959')
2018-01-24 17:50:01,331 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 17:50:01,331 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 17:50:01,331 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124174959',)
2018-01-24 17:50:01,369 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 17:50:01,369 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124174959')
2018-01-24 17:50:01,415 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 17:50:01,416 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124174959')
2018-01-24 17:50:01,453 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 17:50:01,453 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124174959')
2018-01-24 17:50:01,498 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 17:50:01,499 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124174959.html
2018-01-24 17:50:01,499 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 17:50:01,500 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 18:01:06,000 globalpy.py[line: 13] INFO: init db
2018-01-24 18:01:06,117 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 18:01:06,190 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 18:01:06,192 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 18:01:06,192 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,31]
2018-01-24 18:01:06,228 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 18:01:06,229 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 18:01:06,229 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 18:01:06,259 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 18:01:06,259 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124180106', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 18:01:06,363 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 18:01:06,363 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 18:01:06,363 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124180106', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 18:01:06,495 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 18:01:06,496 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-24 18:01:06,498 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-24 18:01:06,498 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-24 18:01:06,908 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124180106 and testcase_id = 20 and step_id = 22
2018-01-24 18:01:06,909 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124180106 and testcase_id = 20 and step_id = 22
2018-01-24 18:01:07,102 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-24 18:01:07,102 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 18:01:07,102 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 18:01:06" WHERE executed_history_id = 20180124180106 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-24 18:01:07,287 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-24 18:01:07,287 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 18:01:07,287 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 18:01:06" WHERE executed_history_id = 20180124180106 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 18:01:07,523 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 18:01:07,545 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-24 18:01:07,546 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-24 18:01:07,547 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-24 18:01:07,595 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 18:01:07,596 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124180106', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-24 18:01:07,744 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-24 18:01:07,744 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 18:01:07,744 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124180106', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 18:01:07,844 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 18:01:07,845 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-24 18:01:07,845 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-24 18:01:07,990 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-24 18:01:07,990 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 18:01:07,991 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 18:01:07" WHERE executed_history_id = 20180124180106 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 18:01:08,095 testcase.py[line: 100] INFO: 测试用例[id=32, name=rev]执行成功
2018-01-24 18:01:08,095 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 18:01:08,095 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 18:01:07" WHERE executed_history_id = 20180124180106 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 18:01:08,316 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 18:01:08,316 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 18:01:08,317 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 18:01:08,317 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124180106',)
2018-01-24 18:01:08,405 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 18:01:08,406 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124180106')
2018-01-24 18:01:08,472 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 18:01:08,472 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124180106')
2018-01-24 18:01:08,518 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 18:01:08,518 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124180106')
2018-01-24 18:01:08,600 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 18:01:08,600 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124180106')
2018-01-24 18:01:08,682 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 18:01:08,682 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124180106',)
2018-01-24 18:01:08,731 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 18:01:08,731 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124180106')
2018-01-24 18:01:08,770 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 18:01:08,770 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 18:01:08,771 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124180106',)
2018-01-24 18:01:08,827 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 18:01:08,827 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124180106')
2018-01-24 18:01:08,906 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 18:01:08,906 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124180106')
2018-01-24 18:01:08,965 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 18:01:08,966 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124180106')
2018-01-24 18:01:09,056 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 18:01:09,056 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124180106.html
2018-01-24 18:01:09,057 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 18:01:09,058 main.py[line: 251] INFO: 生成测试报告成功
2018-01-25 09:09:23,932 globalpy.py[line: 13] INFO: init db
2018-01-25 09:09:24,016 globalpy.py[line: 16] INFO: now get testlink
2018-01-25 09:09:24,083 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-25 09:09:24,085 main.py[line: 187] INFO: 按套件运行测试
2018-01-25 09:09:24,085 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,31]
2018-01-25 09:09:24,166 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-25 09:09:24,167 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-25 09:09:24,167 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-25 09:09:24,216 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:09:24,216 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125090924', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-25 09:09:24,416 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-25 09:09:24,416 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:09:24,416 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125090924', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:09:24,447 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:09:24,447 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-25 09:09:24,448 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-25 09:09:24,448 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-25 09:09:24,555 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125090924 and testcase_id = 20 and step_id = 22
2018-01-25 09:09:24,555 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180125090924 and testcase_id = 20 and step_id = 22
2018-01-25 09:09:24,565 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-25 09:09:24,566 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:09:24,566 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:09:24" WHERE executed_history_id = 20180125090924 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-25 09:09:24,597 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-25 09:09:24,597 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:09:24,597 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:09:24" WHERE executed_history_id = 20180125090924 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-25 09:09:24,605 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-25 09:09:24,651 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-25 09:09:24,655 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-25 09:09:24,655 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-25 09:09:24,746 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-25 09:09:24,746 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125090924', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-25 09:09:24,755 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-25 09:09:24,755 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-25 09:09:24,755 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180125090924', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-25 09:09:24,772 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-25 09:09:24,772 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-25 09:09:24,772 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-25 09:09:24,781 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-25 09:09:24,781 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-25 09:09:24,781 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-25 09:09:24" WHERE executed_history_id = 20180125090924 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-25 09:09:24,807 testcase.py[line: 100] INFO: 测试用例[id=32, name=rev]执行成功
2018-01-25 09:09:24,807 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-25 09:09:24,807 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-25 09:09:24" WHERE executed_history_id = 20180125090924 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-25 09:09:24,813 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-25 09:09:24,813 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-25 09:09:24,814 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-25 09:09:24,814 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180125090924',)
2018-01-25 09:09:24,832 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-25 09:09:24,832 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180125090924')
2018-01-25 09:09:24,842 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-25 09:09:24,842 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180125090924')
2018-01-25 09:09:24,849 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-25 09:09:24,849 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180125090924')
2018-01-25 09:09:24,853 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-25 09:09:24,854 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180125090924')
2018-01-25 09:09:24,858 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-25 09:09:24,858 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180125090924',)
2018-01-25 09:09:24,864 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-25 09:09:24,864 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180125090924')
2018-01-25 09:09:24,870 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-25 09:09:24,871 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-25 09:09:24,871 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180125090924',)
2018-01-25 09:09:24,897 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-25 09:09:24,897 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180125090924')
2018-01-25 09:09:24,904 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-25 09:09:24,905 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180125090924')
2018-01-25 09:09:24,933 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-25 09:09:24,933 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180125090924')
2018-01-25 09:09:24,975 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-25 09:09:24,975 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180125090924.html
2018-01-25 09:09:24,975 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-25 09:09:24,976 main.py[line: 251] INFO: 生成测试报告成功
2018-01-25 09:10:58,545 globalpy.py[line: 13] INFO: init db
