2018-01-24 17:07:48,675 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\tang.py, line 30, in test_rev    self.assertEqual(response[code], 0, msg=返回code不等于0)TypeError: NoneType object is not subscriptable", protocol_method="get", runtime="2018-01-24 17:07:27" WHERE executed_history_id = 20180124170727 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 17:07:48,763 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:07:48,763 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 17:07:27" WHERE executed_history_id = 20180124170727 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 17:07:48,914 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 17:07:48,914 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 17:07:48,916 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 17:07:48,916 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124170727',)
2018-01-24 17:07:48,990 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 17:07:48,991 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124170727')
2018-01-24 17:07:49,025 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 17:07:49,025 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124170727')
2018-01-24 17:07:49,072 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 17:07:49,073 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124170727')
2018-01-24 17:07:49,111 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 17:07:49,111 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124170727')
2018-01-24 17:07:49,154 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 17:07:49,154 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124170727',)
2018-01-24 17:07:49,199 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 17:07:49,199 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124170727')
2018-01-24 17:07:49,239 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 17:07:49,240 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 17:07:49,240 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124170727',)
2018-01-24 17:07:49,302 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 17:07:49,302 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124170727')
2018-01-24 17:07:49,337 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 17:07:49,337 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124170727')
2018-01-24 17:07:49,374 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 17:07:49,374 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124170727.html
2018-01-24 17:07:49,374 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 17:07:49,390 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 17:10:11,544 globalpy.py[line: 13] INFO: init db
2018-01-24 17:10:11,615 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 17:10:11,684 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 17:10:11,685 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 17:10:11,686 main.py[line: 189] INFO: 已获取配置的套件id列表：[31]
2018-01-24 17:10:11,714 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-24 17:10:11,715 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-24 17:10:11,715 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-24 17:10:12,420 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:10:12,420 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124171011', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-24 17:10:12,516 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-24 17:10:12,516 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:10:12,516 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124171011', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:10:12,595 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:10:12,595 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-24 17:10:12,596 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-24 17:10:19,805 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=32, name=rev]
2018-01-24 17:10:19,805 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-24 17:10:19,805 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\tang.py, line 30, in test_rev    self.assertEqual(response[code], 0, msg=返回code不等于0)TypeError: byte indices must be integers, not str", protocol_method="get", runtime="2018-01-24 17:10:12" WHERE executed_history_id = 20180124171011 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 17:10:19,924 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:10:19,924 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 17:10:12" WHERE executed_history_id = 20180124171011 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 17:10:19,988 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 17:10:19,988 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 17:10:19,989 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 17:10:19,989 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124171011',)
2018-01-24 17:10:20,040 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 17:10:20,040 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124171011')
2018-01-24 17:10:20,064 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 17:10:20,065 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124171011')
2018-01-24 17:10:20,100 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 17:10:20,100 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124171011')
2018-01-24 17:10:20,138 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 17:10:20,138 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124171011')
2018-01-24 17:10:20,174 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 17:10:20,174 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124171011',)
2018-01-24 17:10:20,208 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 17:10:20,208 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124171011')
2018-01-24 17:10:20,246 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 17:10:20,247 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 17:10:20,247 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124171011',)
2018-01-24 17:10:20,291 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 17:10:20,292 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124171011')
2018-01-24 17:10:20,329 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 17:10:20,329 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124171011')
2018-01-24 17:10:20,378 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 17:10:20,378 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124171011.html
2018-01-24 17:10:20,378 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 17:10:20,379 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 17:28:28,809 globalpy.py[line: 13] INFO: init db
2018-01-24 17:28:28,889 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 17:28:28,992 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 17:28:28,994 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 17:28:28,994 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,31]
2018-01-24 17:28:29,262 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 17:28:29,263 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 17:28:29,263 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 17:28:29,518 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:28:29,519 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124172828', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 17:28:29,637 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 17:28:29,637 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:28:29,637 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124172828', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:28:29,729 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:28:29,729 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-24 17:28:29,731 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-24 17:28:29,731 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-24 17:28:29,862 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124172828 and testcase_id = 20 and step_id = 22
2018-01-24 17:28:29,862 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124172828 and testcase_id = 20 and step_id = 22
2018-01-24 17:28:29,929 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-24 17:28:29,929 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 17:28:29,929 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 17:28:29" WHERE executed_history_id = 20180124172828 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-24 17:28:30,005 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-24 17:28:30,005 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:28:30,005 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 17:28:29" WHERE executed_history_id = 20180124172828 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 17:28:30,090 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 17:28:30,176 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-24 17:28:30,178 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-24 17:28:30,178 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-24 17:28:30,213 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:28:30,214 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124172828', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-24 17:28:30,298 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-24 17:28:30,298 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:28:30,298 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124172828', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:28:30,373 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:28:30,373 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-24 17:28:30,373 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-24 17:28:30,388 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-24 17:28:30,389 testcase.py[line: 68] ERROR: 步骤[1]执行出错,停止执行用例[id=32, name=rev]
2018-01-24 17:28:30,389 testcase.py[line: 74] INFO: 正在更新步骤执行结果
2018-01-24 17:28:30,389 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\BaiduYunDownload\API\interface_autotest_project\interface_project\interface\tang.py, line 35, in test_rev    response = response.split(localAddress=)[1]TypeError: str does not support the buffer interface", protocol_method="get", runtime="2018-01-24 17:28:30" WHERE executed_history_id = 20180124172828 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 17:28:30,463 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:28:30,463 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2018-01-24 17:28:30" WHERE executed_history_id = 20180124172828 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 17:28:30,521 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 17:28:30,521 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 17:28:30,522 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 17:28:30,522 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124172828',)
2018-01-24 17:28:30,555 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 17:28:30,555 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124172828')
2018-01-24 17:28:30,591 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 17:28:30,591 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124172828')
2018-01-24 17:28:30,631 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 17:28:30,632 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124172828')
2018-01-24 17:28:30,675 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 17:28:30,676 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124172828')
2018-01-24 17:28:30,711 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 17:28:30,711 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124172828',)
2018-01-24 17:28:30,747 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 17:28:30,747 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124172828')
2018-01-24 17:28:30,784 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 17:28:30,784 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 17:28:30,784 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124172828',)
2018-01-24 17:28:30,832 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 17:28:30,832 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124172828')
2018-01-24 17:28:30,876 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 17:28:30,876 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124172828')
2018-01-24 17:28:30,929 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 17:28:30,929 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124172828')
2018-01-24 17:28:30,964 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 17:28:30,964 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124172828.html
2018-01-24 17:28:30,964 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 17:28:30,966 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 17:29:35,794 globalpy.py[line: 13] INFO: init db
2018-01-24 17:29:35,877 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 17:29:35,949 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 17:29:35,950 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 17:29:35,950 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,31]
2018-01-24 17:29:36,012 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 17:29:36,014 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 17:29:36,014 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 17:29:36,043 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:29:36,043 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124172935', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 17:29:36,151 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 17:29:36,152 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:29:36,152 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124172935', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:29:36,294 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:29:36,294 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-24 17:29:36,295 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-24 17:29:36,295 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-24 17:29:36,435 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124172935 and testcase_id = 20 and step_id = 22
2018-01-24 17:29:36,435 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124172935 and testcase_id = 20 and step_id = 22
2018-01-24 17:29:36,482 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-24 17:29:36,482 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 17:29:36,482 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 17:29:36" WHERE executed_history_id = 20180124172935 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-24 17:29:36,554 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-24 17:29:36,554 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:29:36,554 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 17:29:36" WHERE executed_history_id = 20180124172935 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 17:29:36,610 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 17:29:36,668 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-24 17:29:36,669 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-24 17:29:36,670 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-24 17:29:36,720 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:29:36,720 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124172935', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-24 17:29:36,794 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-24 17:29:36,795 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:29:36,795 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124172935', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:29:36,914 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:29:36,914 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-24 17:29:36,914 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-24 17:29:36,921 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 17:29:36,921 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 17:29:36" WHERE executed_history_id = 20180124172935 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 17:29:36,987 testcase.py[line: 100] INFO: 测试用例[id=32, name=rev]执行成功
2018-01-24 17:29:36,987 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:29:36,988 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 17:29:36" WHERE executed_history_id = 20180124172935 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 17:29:37,064 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 17:29:37,064 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 17:29:37,065 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 17:29:37,065 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124172935',)
2018-01-24 17:29:37,096 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 17:29:37,097 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124172935')
2018-01-24 17:29:37,131 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 17:29:37,131 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124172935')
2018-01-24 17:29:37,171 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 17:29:37,171 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124172935')
2018-01-24 17:29:37,227 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 17:29:37,227 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124172935')
2018-01-24 17:29:37,281 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 17:29:37,281 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124172935',)
2018-01-24 17:29:37,334 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 17:29:37,334 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124172935')
2018-01-24 17:29:37,376 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 17:29:37,378 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 17:29:37,378 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124172935',)
2018-01-24 17:29:37,428 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 17:29:37,428 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124172935')
2018-01-24 17:29:37,472 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 17:29:37,472 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124172935')
2018-01-24 17:29:37,513 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 17:29:37,513 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124172935')
2018-01-24 17:29:37,561 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 17:29:37,562 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124172935.html
2018-01-24 17:29:37,562 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 17:29:37,563 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 17:35:24,841 globalpy.py[line: 13] INFO: init db
2018-01-24 17:35:24,915 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 17:35:24,983 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 17:35:24,984 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 17:35:24,985 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,31]
2018-01-24 17:35:25,035 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 17:35:25,036 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 17:35:25,036 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 17:35:25,076 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:35:25,076 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124173524', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 17:35:25,206 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 17:35:25,207 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:35:25,207 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124173524', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:35:25,287 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:35:25,288 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-24 17:35:25,289 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-24 17:35:25,289 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-24 17:35:25,380 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124173524 and testcase_id = 20 and step_id = 22
2018-01-24 17:35:25,380 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124173524 and testcase_id = 20 and step_id = 22
2018-01-24 17:35:25,444 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-24 17:35:25,444 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 17:35:25,444 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 17:35:25" WHERE executed_history_id = 20180124173524 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-24 17:35:25,495 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-24 17:35:25,496 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:35:25,496 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 17:35:25" WHERE executed_history_id = 20180124173524 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 17:35:25,555 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 17:35:25,599 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-24 17:35:25,600 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-24 17:35:25,600 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-24 17:35:25,632 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:35:25,633 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124173524', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-24 17:35:25,716 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-24 17:35:25,716 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:35:25,716 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124173524', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:35:25,796 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:35:25,796 casestep.py[line: 59] INFO: 调用的方法为：TANGRev.test_rev
2018-01-24 17:35:25,796 httpprotocol.py[line: 64] INFO: 发起的请求为：http://192.168.0.167:8080/Tang_Common/rs/resource/getReserveCode
2018-01-24 17:35:25,805 tang.py[line: 32] INFO: 正在解析返回结果
2018-01-24 17:35:25,806 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 17:35:25,806 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 17:35:25" WHERE executed_history_id = 20180124173524 AND testcase_id = 32 AND step_id = 34 AND project='项目1' AND testplan='无计划'
2018-01-24 17:35:25,891 testcase.py[line: 100] INFO: 测试用例[id=32, name=rev]执行成功
2018-01-24 17:35:25,892 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:35:25,892 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 17:35:25" WHERE executed_history_id = 20180124173524 and testcase_id = 32 AND project='项目1' AND testplan='无计划'
2018-01-24 17:35:25,967 testsuite.py[line: 72] INFO: 测试套件[id=31 ,name=tangapi]已执行完
2018-01-24 17:35:25,967 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2018-01-24 17:35:25,968 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2018-01-24 17:35:25,968 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20180124173524',)
2018-01-24 17:35:26,067 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2018-01-24 17:35:26,068 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20180124173524')
2018-01-24 17:35:26,106 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2018-01-24 17:35:26,106 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20180124173524')
2018-01-24 17:35:26,146 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2018-01-24 17:35:26,146 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20180124173524')
2018-01-24 17:35:26,184 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2018-01-24 17:35:26,184 mydb.py[line: 76] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20180124173524')
2018-01-24 17:35:26,218 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2018-01-24 17:35:26,218 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124173524',)
2018-01-24 17:35:26,254 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：无计划]的测试用例执行结果
2018-01-24 17:35:26,254 mydb.py[line: 92] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '无计划', '20180124173524')
2018-01-24 17:35:26,290 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：无计划]的测试用例运行结果到测试报告
2018-01-24 17:35:26,290 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2018-01-24 17:35:26,291 mydb.py[line: 92] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20180124173524',)
2018-01-24 17:35:26,330 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：无计划]已运行的测试用例
2018-01-24 17:35:26,330 mydb.py[line: 92] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '无计划', '20180124173524')
2018-01-24 17:35:26,366 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=20]步骤运行结果
2018-01-24 17:35:26,366 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 20, '20180124173524')
2018-01-24 17:35:26,407 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=32]步骤运行结果
2018-01-24 17:35:26,407 mydb.py[line: 92] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '无计划', 32, '20180124173524')
2018-01-24 17:35:26,450 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2018-01-24 17:35:26,451 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：D:\\BaiduYunDownload\\API\\interface_autotest_project\\interface_project\\testreport\\test_report20180124173524.html
2018-01-24 17:35:26,451 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2018-01-24 17:35:26,452 main.py[line: 251] INFO: 生成测试报告成功
2018-01-24 17:42:49,208 globalpy.py[line: 13] INFO: init db
2018-01-24 17:42:49,369 globalpy.py[line: 16] INFO: now get testlink
2018-01-24 17:42:49,439 main.py[line: 66] INFO: 正在读取运行模式配置
2018-01-24 17:42:49,441 main.py[line: 187] INFO: 按套件运行测试
2018-01-24 17:42:49,441 main.py[line: 189] INFO: 已获取配置的套件id列表：[16,31]
2018-01-24 17:42:49,512 main.py[line: 205] INFO: 正在读取套件[id=16，name=访问WebTours首页接口]的协议，host，端口配置...
2018-01-24 17:42:49,513 main.py[line: 223] INFO: 正在执行测试套件[id=16 ,name=访问WebTours首页接口]
2018-01-24 17:42:49,513 testsuite.py[line: 41] INFO: 正在获取套件[id=16，name=访问WebTours首页接口]的测试用例...
2018-01-24 17:42:49,558 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:42:49,559 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174249', '20', '获取ip信息接口', '访问WebTours首页接口', '无计划', '项目1', 'Block', '')
2018-01-24 17:42:49,665 testsuite.py[line: 61] INFO: 开始执行测试用例[id=20，name=获取ip信息接口]
2018-01-24 17:42:49,666 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:42:49,666 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174249', '20', '获取ip信息接口', '无计划', '项目1', 22, 1, '', 'http', 'ip.ws.126.net', '80', '{"class":"IPQuery","function":"test_get_address_info","method":"get","url":"/ipquery","params":""}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:42:49,741 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
2018-01-24 17:42:49,742 casestep.py[line: 59] INFO: 调用的方法为：IPQuery.test_get_address_info
2018-01-24 17:42:49,743 ipquery.py[line: 24] INFO: 正在发起GET请求...
2018-01-24 17:42:49,743 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2018-01-24 17:42:49,837 ipquery.py[line: 30] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124174249 and testcase_id = 20 and step_id = 22
2018-01-24 17:42:49,837 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20180124174249 and testcase_id = 20 and step_id = 22
2018-01-24 17:42:49,915 ipquery.py[line: 33] INFO: 正在解析返回结果
2018-01-24 17:42:49,916 testcase.py[line: 97] INFO: 正在更新步骤执行结果
2018-01-24 17:42:49,916 mydb.py[line: 62] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2018-01-24 17:42:49" WHERE executed_history_id = 20180124174249 AND testcase_id = 20 AND step_id = 22 AND project='项目1' AND testplan='无计划'
2018-01-24 17:42:49,978 testcase.py[line: 100] INFO: 测试用例[id=20, name=获取ip信息接口]执行成功
2018-01-24 17:42:49,978 testsuite.py[line: 65] INFO: 正在更新用例执行结果
2018-01-24 17:42:49,979 mydb.py[line: 62] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2018-01-24 17:42:49" WHERE executed_history_id = 20180124174249 and testcase_id = 20 AND project='项目1' AND testplan='无计划'
2018-01-24 17:42:50,033 testsuite.py[line: 72] INFO: 测试套件[id=16 ,name=访问WebTours首页接口]已执行完
2018-01-24 17:42:50,056 main.py[line: 205] INFO: 正在读取套件[id=31，name=tangapi]的协议，host，端口配置...
2018-01-24 17:42:50,057 main.py[line: 223] INFO: 正在执行测试套件[id=31 ,name=tangapi]
2018-01-24 17:42:50,057 testsuite.py[line: 41] INFO: 正在获取套件[id=31，name=tangapi]的测试用例...
2018-01-24 17:42:50,086 testsuite.py[line: 58] INFO: 记录测试用例到到测试用例报表
2018-01-24 17:42:50,087 mydb.py[line: 49] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174249', '32', 'rev', 'tangapi', '无计划', '项目1', 'Block', '')
2018-01-24 17:42:50,155 testsuite.py[line: 61] INFO: 开始执行测试用例[id=32，name=rev]
2018-01-24 17:42:50,155 testcase.py[line: 47] INFO: 记录测试步骤到测试步骤报告表
2018-01-24 17:42:50,155 mydb.py[line: 49] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20180124174249', '32', 'rev', '无计划', '项目1', 34, 1, '', 'http', '192.168.0.167', '8080', '{"class":"TANGRev","function":"test_rev","method":"get","url":"/Tang_Common/rs/resource/getReserveCode","params":"{\\"requestorId\\":\\"Microsoft\\",\\"reserveCodeCount\\":2}"}', '{"city_name":"大兴区"}', 'Block', '', '')
2018-01-24 17:42:50,226 testcase.py[line: 59] INFO: 开始执行步骤操作[第1步]
